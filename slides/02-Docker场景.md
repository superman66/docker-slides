<!-- sectionTitle: Dokcer åœºæ™¯ä»‹ç» -->

## Docker åœºæ™¯

---

## å¼€å§‹ä»‹ç»å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸ªå° ğŸŒ°

ä½ ä¸€ä¸ªäººå‰åç«¯å…¨åŒ…ï¼Œå†™äº†ä¸€ä¸ª Web é¡¹ç›®ï¼Œä¿—ç§° **å…¨å¹²å·¥ç¨‹å¸ˆ**

**ï¼ˆè¿™é‡Œæ‰‹åŠ¨@Doma çš„å°è“æ™¶é¡¹ç›®ï¼‰**

å½“ä½ è¦éƒ¨ç½²é¡¹ç›®åˆ°æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹æœ‰å“ªäº›äº‹æƒ…æ˜¯éœ€è¦åšçš„ï¼Ÿ

<br />

- ä¸‹è½½å¹¶å®‰è£…é…ç½® `nginx`
- åç«¯æœåŠ¡ã€æ•°æ®åº“æœåŠ¡ã€è´Ÿè½½å‡è¡¡æœåŠ¡ç­‰
- ...å…¶ä»–é…ç½®

<br />

ä¸€å°æœåŠ¡å™¨ä¸Šé…ç½®å¯èƒ½è¿˜æ¯”è¾ƒå®¹æ˜“æ¥å—ã€‚
<br />
å¦‚æœæ˜¯è¦åœ¨ç¬¬äºŒå°ã€ç¬¬ä¸‰å°æœåŠ¡å™¨ä¹ŸåŒæ ·éƒ¨ç½²è¯¥é¡¹ç›®å‘¢ï¼Ÿ

---

## è¿™æ—¶å€™ Docker çš„ä½œç”¨å°±æ˜¾è€Œæ˜“è§

æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæœ€å°åŒ–çš„å‰ç«¯ + åç«¯ + æ•°æ®åº“çš„ Web é¡¹ç›®ï¼Œæ¥ä½“éªŒä¸‹ Docker éƒ¨ç½²çš„ä¾¿æ·ä¸é«˜æ•ˆã€‚

```shell
$ git clone https://github.com/superman66/docker-demo
$ cd docker-demo
$ yarn
// è¿™é‡Œçœå»å®‰è£…æ„å»ºæ­¥éª¤...
$ docker-compose up -d
```
---

## Docker-compose é…ç½®æ–‡ä»¶

é€šè¿‡è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±èƒ½æå®šä¸€ä¸ª Web é¡¹ç›®çš„éƒ¨ç½²ï¼Œè€Œæ— éœ€å»æ‰‹åŠ¨å®‰è£…ç®¡ç†å„ä¸ªæœåŠ¡ã€‚

```shell
version: '3'

services:
  web:
    # å¼€æœºæ€»æ˜¯å¯åŠ¨
    restart: always
    image: nginx
    # ç»‘å®šç«¯å£
    ports:
      - '8084:80'
    # æŒ‚è½½æœ¬åœ°æ–‡ä»¶å¤¹åˆ°å®¹å™¨å†…éƒ¨æ–‡ä»¶å¤¹
    volumes:
      - ./app/build:/usr/share/nginx/html/web_app
      - ./nginx/default.conf:/etc/nginx/conf.d/default.conf
  server:
    container_name: server
    build: ./server
    ports:
      - '3200:3200'
    links:
      - mongo
    depends_on:
      - mongo
  mongo:
    container_name: mongo
    image: mongo
    expose:
      - '27017'
    ports:
      - '27017:27017'
    volumes:
      - './db:/data/db'
```
